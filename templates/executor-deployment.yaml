apiVersion: extensions/v1beta1
kind: Deployment
metadata:
  creationTimestamp: null
  labels:
    app: executor
  name: executor
spec:
  replicas: 1
  strategy:
    type: Recreate
  template:
    metadata:
      creationTimestamp: null
      labels:
        app: executor
    spec:
      containers:
      - args:
        - zuul-executor
        - -d
#        env:
#        - name: http_proxy
#        - name: https_proxy
#        - name: no_proxy
#          value: ',gerrit,scheduler'
        image: zuul/zuul-executor
        name: executor
        securityContext:
          privileged: true
        volumeMounts:
        - mountPath: /etc/zuul/
          name: zuul-etc
#        - mountPath: /var/playbooks/
#          name: executor-claim1
        - mountPath: /var/ssh
          name: sshkey
#        - mountPath: /srv/static/logs
#          name: logs
      restartPolicy: Always
      volumes:
      - name: zuul-etc
        configMap:
          name: zuul-config
#      - name: executor-claim1
#        persistentVolumeClaim:
#          claimName: executor-claim1
      - name: sshkey
        configMap:
          name: ssh-key
#      - name: logs
#        persistentVolumeClaim:
#          claimName: logs
